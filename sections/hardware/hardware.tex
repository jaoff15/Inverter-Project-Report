\section{Hardware}
\label{sec:hardware}
This section of the report will focus on the electrical hardware of the motor driver. What components goes into a driver like this, what all ready existing hardware must be considered when designing. Further more each part of inverter will be explained individually, starting from what motor kind needs that is being worked with, the interface board and the encoder which is static and wont be redesigned or replaced. Going in depth with the 3 different boards needed designing analog, power and driver board, what kind of transistors and gate drives are needed in order to drive the motor, and what kind of losses are present, with a look at the heat dissipation. With the end being about, how the physical construction of the inverter would like.


\subsection{Motor specifications}
The motor used in the go kart is a \textit{Motenergy ME1117 PMAC Motor}. Its parameters can be seen in table \ref{Motor_parameters_list}. 

\begin{table} [H]
    \centering
    \begin{tabular}{|l|l|} \cline{1-2}
        Pole pair                   & $4\ pairs\ (8\ poles)$        \\ \cline{1-2}
        Maximum rotational speed    & $5000 RPM$                    \\ \cline{1-2}
        Voltage rating              & $0-76 V$                      \\ \cline{1-2}
        Continuous current          & $100\ A$                      \\ \cline{1-2}
        Peak Current for 1 min      & $300\ A$                      \\ \cline{1-2}
        Torque constant             & $0.13 Nm/A$                   \\ \cline{1-2}
        Phase to Phase Resistance   & $0.013\ohm$                   \\ \cline{1-2}
        Phase to Phase Inductance   & $0.1$ mH                      \\ \cline{1-2}
        Armature Inertia            & $52\ kg/cm^2$                 \\ \cline{1-2}
    \end{tabular} \\
    \caption{Motor parameters specifying the motor \textit{Motenergy ME1117 PMAC} \cite{Motor_Parameters}.}
    \label{Motor_parameters_list}
\end{table} 


% All of these specifications are what makes up the motor, and will be written into the model motor. It will also be used in order to calculate framework of the controller. Before diving in to the specifics of how and why, certain methods is used. A quick overview of the base model, will help visualize how the final model was made.\\


\subsection{Main interface board}
Part of the material provided to start the project is the main interface board. The board contains a range of smaller circuits and acts as the interface between the hardware and the embedded controller. 

The circuits include a pre-charge circuit, high motor temperature detection circuit, battery voltage measurement circuit, relay control, encoder interface, interface to buttons and switches and some voltage references and supplies. 

The section contains a short introduction to the encoder interface, all other modules will be references when they are used.



\subsubsection{Encoder}

On the motor is an \textit{AM256} magnetic 8 bit encoder mounted. The encoder is supplied from the main interface board and the signals are routed from the encoder to the Zybo. 

The decoding and translation of the encoder signal are done in the Zybo which is discussed in section \ref{sec:encoder}.

\todo{Insert reference}


\input{sections/hardware/analogboard/Analog_Interface_Board.tex}

\subsection{Power board}
The inverter is divided into two PCB's, one for the high power part, the Power board and one for the driver part, the Driver board. The following section describes how the Power board for the inverters are designed and what considerations have been made. It will describe what kind of PCB and which components have been used and why. The layout of the PCBs will also be described and what considerations has been made. \\
\input{sections/hardware/powerboard/Power_Board.tex}
% \input{sections/hardware/powerboard/design.tex}
% \input{sections/hardware/powerboard/implementation.tex}

\subsection{Driver board}
The section describes the theoretical background, the design considerations taken and the implementation of the driver circuit and the PCB.
\input{sections/hardware/driverboard/analysis.tex}
\input{sections/hardware/driverboard/design.tex}

\subsection{Power and Driver board layout}
This section describes the considerations taken when designing the layout of both boards.
\input{sections/hardware/driverboard/layout.tex}